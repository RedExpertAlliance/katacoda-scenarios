In this step you will look at managing a single OCI Resource using Terraform. Just a single Objectstorage Bucket.

Terraform will process all *.tf* files in the current directory (and possibly files in other directories to which references exist).

File `variables.tf`{{open}} contains the OCI provider definition and is also - by convention - the place for global variable definitions and constants that can be used throughout the other *.tf files*. The values of variables can be determined by Terraform in several ways (in this order):
* taken from values passed on the command line through the `-var 'variable-name=value'` syntax 
* in a `.tfvars` file (specified on the command line or automatically loaded)
* read from an Environment Variable called *TF_VAR_name-of-variable*
* taken from the default value

File `main.tf`{{open}} contains the definitions of the OCI resources we want Terraform to make happen. If they exist, Terraform should only update them where properties differ in definition and actual state and if they do not exist, Terraform should create them.

In this file, a single bucket is defined. The name of the bucket is set through the variable *lab_bucket_name*. Its default value is *tf-bucket*. However, the name should be more specific. Execute this command to set an environment variable from which the variable will get its value:

`export TF_VAR_lab_bucket_name=tf_lab_bucket_$LAB_ID`{{execute}}

The following command *plan* is used to create an execution plan. Terraform first performs a refresh: it reads the actual state of affairs on OCI and creates or updates the statefile accordingly. Then it determines what actions are necessary to achieve the desired state specified in the configuration files.

`terraform plan -out config.tfplan`{{execute}}

To make our plan real, use the following command. Terraform will apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a terraform plan execution plan.

`terraform apply `{{execute}}

Enter *yes* when prompted to confirm our desire.

Note: Any change you made outside of Terraform to resources managed by Terraform will be overwritten the next time you apply the configuration unless you add the *ignore_changes* parameter to the resource in the configuration file.



## Resources

GitHub Repo with many sample Terraform configurations for OCI Resources https://github.com/terraform-providers/terraform-provider-oci/tree/master/examples 

Example OCI Terraform Provider - Bucket - https://www.terraform.io/docs/providers/oci/r/objectstorage_bucket.html

Terraform Docs on Variables: https://www.terraform.io/docs/configuration/variables.html 
